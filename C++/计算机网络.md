# 计算机网络

## 第1章 概述

### 1.1

### 1.2

- 第一个分组交换网ARPANET
- 1983年TCP/IP协议成为ARPANET的标准协议，互联网的诞生时间
- internet(互连网)与Internet(互联网)
- 三级结构的互联网
- 多层次ISP结构的互联网
- WWW(World Wide Web)
- RFC文档

### 1.3 互联网的组成

- 边缘部分:主机
- 核心部分: 路由器以及网络
- C/S模式
- P2P模式
- 路由器实现分组交换的关键构件，路由器暂时存储的是一个个短分组，短分组是暂时存在路由器的内存中的
- 电路交换、报文交换、分组交换
- 网络带宽表示在单位时间内网络中的某信道所能通过的最高数据率
- 发送时延、传播时延、处理时延、排队时延
- 时延带宽积、往返时间RTT
- 利用率

### 1.7 计算机网络体系结构

- OSI/RM   开放系统互连基本参考模型

- 网络协议:  语法、语义、同步

- 具有五层协议的体系结构

  ![](/home/leiwang/Markdown/C++/picture/Screenshot from 2019-09-05 16-46-33.png)

- 应用层交互的数据单元称为报文

- 运输层：　负责为两台主机中进程之间的通信提供通用的数据传输服务

  - 传输控制协议TCP 提供面向连接的、可靠的数据传输服务，数据传输的单位是**报文段**
  - 用户数据报协议UDP, 提供无连接的、尽最大努力的数据传输服务(不保证数据传输的可靠性)，数据传输的单位是**用户数据报**

- 网络层:

  - 负责为分组交换网上的不同主机提供通信服务，网络层把运输层产生的报文段或用户数据报封装成分组或包进行传送，分组也称为**IP数据报**
  - 选择合适的路由
  - 无连接的网际协议IP和许多种路由选择协议

- 数据链路层

  - 将网络层交下来的IP数据报组装成帧，包含数据和控制信息

- 物理层

  ![](/home/leiwang/Markdown/C++/picture/Screenshot from 2019-09-05 17-01-00.png)



## 第二章　物理层

### 2.1 物理层的基本概念

### 2.2 数据通信的基础知识

![](/home/leiwang/Markdown/C++/picture/Screenshot from 2019-09-05 17-07-26.png)

### 2.3 物理层下面的传输媒体

- 双绞线
- 同轴电缆
- 光缆

### 2.4 信道复用技术

- 频分复用
- 时分复用
- 统计时分复用
- 波分复用
- 码分复用

### 2.5 数字传输系统

### 2.6 宽带接入技术

- ADSL
- HFC
- FTTH



## 第三章　数据链路层

- 点对点信道
- 广播信道

### 3.1 使用点对点信道的数据链路层

- 封装成帧

  - 帧定界可以使用帧定界符
  - SOH和EOT都是控制字符的名称，十六进制编码为01和04
  - ![](/home/leiwang/Markdown/C++/picture/Screenshot from 2019-09-05 17-28-40.png)

- 透明传输

  - 所传输的数据中任何8比特组合一定不允许和控制字符一样

  - 发送端的数据链路层在数据中出现控制字符的前面插入一个转义字符ESC,十六进制编码为1B

    ![](/home/leiwang/Markdown/C++/picture/Screenshot from 2019-09-05 17-34-06.png)

- 差错控制

  - 广泛使用循环冗余校验CRC

### 3.2 点对点协议

- 能实现可靠传输的高级数据链路控制HDLC

- 对于点对点的链路，PPP协议是目前使用最广泛的数据链路层协议

- PPP协议的特点
  - 用户计算机和ISP进行通信时所使用的数据链路层协议
  - 满足的需求
    - 简单
    - 封装成帧
    - 透明性
    - 支持多种网络层协议
    - 支持多种类型链路
    - 差错检测
    - 检测连接状态
    - 最大传送单元
    - 网络层地址协商
    - 数据压缩协商
  - PPP协议不需要进行纠错，不需要设置序号，不需要进行流量控制，不支持多点线路，只支持点对点，只支持全双工链路

- PPP协议的组成

  - 一个将IP数据报封装到串行链路的方法
  - 一个用来建立、配置和测试数据链路链接的链路控制协议LCP
  - 一套网络控制协议NCP

- PPP协议的帧格式

  - 字节填充
    - 异步传输时，利用转义字符 0x7D进行字节填充
  - 零比特填充
    - 同步传输时，采用零比特填充实现透明传输
  - 

  ![](/home/leiwang/Markdown/C++/picture/Screenshot from 2019-09-06 16-15-55.png)



  - PPP协议的工作状态
    - 用户拨号接入ISP后，用户个人电脑向ISP发送一系列的链路控制协议LCP分组(封装成多个PPP帧)，以便建立LCP连接
    - 网络控制协议NCP给新接入的用户个人电脑分配一个临时的IP地址
    - 用户通信完毕后，NCP释放网络层连接，LCP释放数据链路层连接
    - ![](/home/leiwang/Markdown/C++/picture/Screenshot from 2019-09-06 16-31-27.png)



### 3.3 使用广播信道的数据链路层

- 局域网的数据链路层
  - 星形网
  - 环形网
  - 总线网: 以太网最有名
  - 静态划分信道: 复用的方式　　　　　
  - 动态媒体接入控制
    - 随机接入:  以太网，需要有解决碰撞的网络协议
    - 受控接入
- 以太网的两个标准
  - IEEE 802.3  (快消失)
    - IEEE 902将局域网的数据链路层分成逻辑链路控制LLC子层和媒体接入控制MAC子层
    - ![](/home/leiwang/Markdown/C++/picture/Screenshot from 2019-09-06 16-40-56.png)
  - DIX Ethernet V2　(应用最多)　　　

- 适配器的作用
  - 适配器(网卡)与电缆或双绞线以串行传输方式进行，与I/O总线以并行方式传输
  - 适配器的功能包含了数据链路层和物理层
  - 计算机的硬件地址在适配器的ROM中，IP地址在计算机的存储器中
  - ![](/home/leiwang/Markdown/C++/picture/Screenshot from 2019-09-06 16-47-52.png)

- CSMA/CD协议
  - 以太网采用无连接的工作方式，不进行编号，也不要求对方发回确认，采用CSMA/CD载波监听多点接入/碰撞检测协议来解决冲突
  - 以太网发送的数据都使用曼彻斯特编码的信号
  - CSMA/CD协议的要点
    - 总线型网络，多点接入
    - 检测信道
    - 边发送边监听，使用CSMA/CD协议的以太网只能进行半双工通信
    - 以太网使用截断二进制指数退避算法来确定碰撞后重传的时机
    - 适配器每发送一个新的帧，就要执行一次CSMA/CD算法
    - 最短帧长64字节，凡长度小于64字节的帧都是由于冲突而异常终止的无效帧
    - 强化碰撞
    - 帧间最小间隔
    - ![](/home/leiwang/Markdown/C++/picture/Screenshot from 2019-09-06 17-03-23.png)

- 使用集线器的星形拓扑
  - 从总线型演进到星型
  - 集线器的特点
    - 使用集线器的局域网在物理上是星形网，在逻辑上是总线网，适配器仍执行CSMA/CD协议
    - 一个集线器有许多接口
    - 集线器工作在物理层，每个接口仅仅简单转发比特，不进行碰撞检测
- 以太网的信道利用率
- 以太网的MAC层